<svg xmlns="http://www.w3.org/2000/svg" id="mermaid-1544096249091" width="100%" height="100%" style="max-width:1650px" viewBox="-50 -10 1650 1514"><style>#mermaid-1544096249091 .actor{stroke:#ccf;fill:#ececff}#mermaid-1544096249091 text.actor{fill:#000;stroke:none}#mermaid-1544096249091 .actor-line{stroke:gray}#mermaid-1544096249091 .messageLine0{marker-end:&quot;url(#arrowhead)&quot;}#mermaid-1544096249091 .messageLine0,#mermaid-1544096249091 .messageLine1{stroke-width:1.5;stroke-dasharray:&quot;2 2&quot;;stroke:#333}#mermaid-1544096249091 #arrowhead{fill:#333}#mermaid-1544096249091 #crosshead path{fill:#333!important;stroke:#333!important}#mermaid-1544096249091 .messageText{fill:#333;stroke:none}#mermaid-1544096249091 .note{stroke:#aa3;fill:#fff5ad}#mermaid-1544096249091 .noteText{fill:#000;stroke:none;font-family:trebuchet ms,verdana,arial;font-size:14px}</style><style>#mermaid-1544096249091{color:#000;font:400 16px &quot;Times New Roman&quot;}</style><g><line id="actor0" x1="75" x2="75" y1="5" y2="1503" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="0" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="75" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="75" dy="0">Database&apos;s ERC721</tspan></text></g><g><line id="actor1" x1="275" x2="275" y1="5" y2="1503" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="200" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="275" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="275" dy="0">Admin</tspan></text></g><g><line id="actor2" x1="475" x2="475" y1="5" y2="1503" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="400" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="475" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="475" dy="0">Database&apos;s Safe</tspan></text></g><g><line id="actor3" x1="675" x2="675" y1="5" y2="1503" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="600" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="675" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="675" dy="0">Database</tspan></text></g><g><line id="actor4" x1="875" x2="875" y1="5" y2="1503" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="800" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="875" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="875" dy="0">Storage</tspan></text></g><g><line id="actor5" x1="1075" x2="1075" y1="5" y2="1503" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="1000" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1075" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1075" dy="0">User 1</tspan></text></g><g><line id="actor6" x1="1275" x2="1275" y1="5" y2="1503" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="1200" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1275" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1275" dy="0">User 2</tspan></text></g><g><line id="actor7" x1="1475" x2="1475" y1="5" y2="1503" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="1400" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1475" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1475" dy="0">User 3/Funder</tspan></text></g><defs><marker id="arrowhead" markerHeight="4" markerWidth="6" orient="auto" refX="5" refY="2"><path d="M 0,0 V 4 L6,2 Z"/></marker></defs><defs><marker id="crosshead" markerHeight="8" markerWidth="15" orient="auto" refX="16" refY="4"><path fill="#000" stroke="#000" stroke-width="1" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray:0,0"/><path fill="none" stroke="#000" stroke-width="1" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray:0,0"/></marker></defs><g><text x="475" y="93" class="messageText" style="text-anchor:middle">initializeDatabase</text><line x1="275" x2="675" y1="100" y2="100" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="68" x="670" y="102" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="777.5" y="128" class="messageText" style="text-anchor:middle">constructor</text><line x1="680" x2="875" y1="135" y2="135" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="472.5" y="163" class="messageText" style="text-anchor:middle">returns EntryCore address</text><line x1="670" x2="275" y1="170" y2="170" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><rect width="650" height="36" x="250" y="180" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="246" y="204" fill="#000" class="noteText"><tspan x="266" fill="#000">User sets smart-contract with their custom Schema for Database, should implements ISchema</tspan></text></g><g><text x="475" y="244" class="messageText" style="text-anchor:middle">updateCreateEntryPermissionGroup</text><line x1="275" x2="675" y1="251" y2="251" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="450" height="36" x="250" y="261" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="246" y="285" fill="#000" class="noteText"><tspan x="266" fill="#000">Available OnlyAdmin, Whitelist, AllUsers groups</tspan></text></g><g><text x="875" y="325" class="messageText" style="text-anchor:middle">createEntry</text><line x1="1075" x2="675" y1="332" y2="332" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="103" x="670" y="334" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="777.5" y="360" class="messageText" style="text-anchor:middle">createEntry ID = 0</text><line x1="680" x2="875" y1="367" y2="367" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="372.5" y="395" class="messageText" style="text-anchor:middle">mint ID = 0</text><line x1="670" x2="75" y1="402" y2="402" stroke="#000" stroke-width="2" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="877.5" y="430" class="messageText" style="text-anchor:middle">returns entryID ID = 0</text><line x1="680" x2="1075" y1="437" y2="437" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><rect width="450" height="52" x="650" y="447" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="646" y="471" fill="#000" class="noteText"><tspan x="666" fill="#000">Creates new entry object and entry meta and initializes</tspan></text><text x="646" y="487" fill="#000" class="noteText"><tspan x="666" fill="#000">associated token</tspan></text></g><g><text x="975" y="527" class="messageText" style="text-anchor:middle">updateEntry ID = 0</text><line x1="1075" x2="875" y1="534" y2="534" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="450" height="52" x="850" y="544" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="846" y="568" fill="#000" class="noteText"><tspan x="866" fill="#000">User 1 as token owner sets fields of Entry object</tspan></text><text x="846" y="584" fill="#000" class="noteText"><tspan x="866" fill="#000">with provided EntryID</tspan></text></g><g><text x="975" y="624" class="messageText" style="text-anchor:middle">entryInfo ID=0</text><line x1="1075" x2="875" y1="631" y2="631" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="33" x="870" y="633" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="977.5" y="659" class="messageText" style="text-anchor:middle">returns entry information</text><line x1="880" x2="1075" y1="666" y2="666" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="875" y="694" class="messageText" style="text-anchor:middle">transferFrom FROM = U1 TO = U2 ID = 0</text><line x1="1075" x2="675" y1="701" y2="701" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="68" x="670" y="703" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="372.5" y="729" class="messageText" style="text-anchor:middle">removeTokenFrom ID = 0 FROM = U1</text><line x1="670" x2="75" y1="736" y2="736" stroke="#000" stroke-width="2" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="372.5" y="764" class="messageText" style="text-anchor:middle">addTokenTo ID = 0 TO = U2</text><line x1="670" x2="75" y1="771" y2="771" stroke="#000" stroke-width="2" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><rect width="450" height="36" x="650" y="781" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="646" y="805" fill="#000" class="noteText"><tspan x="666" fill="#000">Transfer token to new owner</tspan></text></g><g><text x="1075" y="845" class="messageText" style="text-anchor:middle">updateEntry ID = 0</text><line x1="1275" x2="875" y1="852" y2="852" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="450" height="52" x="850" y="862" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="846" y="886" fill="#000" class="noteText"><tspan x="866" fill="#000">User 2 as token owner sets fields of Entry object</tspan></text><text x="846" y="902" fill="#000" class="noteText"><tspan x="866" fill="#000">with provided EntryID</tspan></text></g><g><text x="1175" y="942" class="messageText" style="text-anchor:middle">entryInfo ID = 0</text><line x1="1475" x2="875" y1="949" y2="949" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="33" x="870" y="951" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="1177.5" y="977" class="messageText" style="text-anchor:middle">returns entry information</text><line x1="880" x2="1475" y1="984" y2="984" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="1075" y="1012" class="messageText" style="text-anchor:middle">fundEntry ID = 0 funds = 1ETH</text><line x1="1475" x2="675" y1="1019" y2="1019" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="33" x="670" y="1021" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="572.5" y="1047" class="messageText" style="text-anchor:middle">transfer = 1ETH</text><line x1="670" x2="475" y1="1054" y2="1054" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><rect width="850" height="36" x="450" y="1064" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="446" y="1088" fill="#000" class="noteText"><tspan x="466" fill="#000">Funded ETHs goes to Database&apos;s Safe contract, ETHs adds to balance and amount for accounting stores in Database in EntryMeta.</tspan></text></g><g><text x="975" y="1128" class="messageText" style="text-anchor:middle">claimEntryFund claim = 1ETH</text><line x1="1275" x2="675" y1="1135" y2="1135" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="68" x="670" y="1137" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="572.5" y="1163" class="messageText" style="text-anchor:middle">claim = 1ETH</text><line x1="670" x2="475" y1="1170" y2="1170" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="875" y="1198" class="messageText" style="text-anchor:middle">transfer = 1ETH</text><line x1="475" x2="1275" y1="1205" y2="1205" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><rect width="850" height="52" x="450" y="1215" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="446" y="1239" fill="#000" class="noteText"><tspan x="466" fill="#000">Owner of Entry claim funds and Database checks balance for existing claim amount, subtract them in Entry meta, calls</tspan></text><text x="446" y="1255" fill="#000" class="noteText"><tspan x="466" fill="#000">Database&apos;s Safe to send funds to User.</tspan></text></g><g><text x="975" y="1295" class="messageText" style="text-anchor:middle">deleteEntry ID = 0</text><line x1="1275" x2="675" y1="1302" y2="1302" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="68" x="670" y="1304" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="372.5" y="1330" class="messageText" style="text-anchor:middle">burn ID = 0</text><line x1="670" x2="75" y1="1337" y2="1337" stroke="#000" stroke-width="2" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="777.5" y="1365" class="messageText" style="text-anchor:middle">deleteEntry ID = 0</text><line x1="680" x2="875" y1="1372" y2="1372" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><rect width="650" height="36" x="650" y="1382" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="646" y="1406" fill="#000" class="noteText"><tspan x="666" fill="#000">Database burns associated to Entry NFT token and deletes entry object in EntryCore.</tspan></text></g><g><rect width="150" height="65" x="0" y="1438" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="75" y="1470.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="75" dy="0">Database&apos;s ERC721</tspan></text></g><g><rect width="150" height="65" x="200" y="1438" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="275" y="1470.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="275" dy="0">Admin</tspan></text></g><g><rect width="150" height="65" x="400" y="1438" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="475" y="1470.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="475" dy="0">Database&apos;s Safe</tspan></text></g><g><rect width="150" height="65" x="600" y="1438" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="675" y="1470.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="675" dy="0">Database</tspan></text></g><g><rect width="150" height="65" x="800" y="1438" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="875" y="1470.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="875" dy="0">Storage</tspan></text></g><g><rect width="150" height="65" x="1000" y="1438" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1075" y="1470.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1075" dy="0">User 1</tspan></text></g><g><rect width="150" height="65" x="1200" y="1438" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1275" y="1470.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1275" dy="0">User 2</tspan></text></g><g><rect width="150" height="65" x="1400" y="1438" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1475" y="1470.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1475" dy="0">User 3/Funder</tspan></text></g></svg>