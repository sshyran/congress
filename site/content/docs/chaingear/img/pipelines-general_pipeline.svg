<svg xmlns="http://www.w3.org/2000/svg" id="mermaid-1544096245651" width="100%" height="100%" style="max-width:1850px" viewBox="-50 -10 1850 1296"><style>#mermaid-1544096245651 .actor{stroke:#ccf;fill:#ececff}#mermaid-1544096245651 text.actor{fill:#000;stroke:none}#mermaid-1544096245651 .actor-line{stroke:gray}#mermaid-1544096245651 .messageLine0{marker-end:&quot;url(#arrowhead)&quot;}#mermaid-1544096245651 .messageLine0,#mermaid-1544096245651 .messageLine1{stroke-width:1.5;stroke-dasharray:&quot;2 2&quot;;stroke:#333}#mermaid-1544096245651 #arrowhead{fill:#333}#mermaid-1544096245651 #crosshead path{fill:#333!important;stroke:#333!important}#mermaid-1544096245651 .messageText{fill:#333;stroke:none}#mermaid-1544096245651 .note{stroke:#aa3;fill:#fff5ad}#mermaid-1544096245651 .noteText{fill:#000;stroke:none;font-family:trebuchet ms,verdana,arial;font-size:14px}</style><style>#mermaid-1544096245651{color:#000;font:400 16px &quot;Times New Roman&quot;}</style><g><line id="actor0" x1="75" x2="75" y1="5" y2="1285" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="0" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="75" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="75" dy="0">Chaingear&apos;s ERC721</tspan></text></g><g><line id="actor1" x1="275" x2="275" y1="5" y2="1285" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="200" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="275" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="275" dy="0">Chaingear Owner</tspan></text></g><g><line id="actor2" x1="475" x2="475" y1="5" y2="1285" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="400" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="475" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="475" dy="0">Chaingear Contract</tspan></text></g><g><line id="actor3" x1="675" x2="675" y1="5" y2="1285" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="600" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="675" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="675" dy="0">Database Builder</tspan></text></g><g><line id="actor4" x1="875" x2="875" y1="5" y2="1285" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="800" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="875" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="875" dy="0">User 1</tspan></text></g><g><line id="actor5" x1="1075" x2="1075" y1="5" y2="1285" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="1000" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1075" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1075" dy="0">Database</tspan></text></g><g><line id="actor6" x1="1275" x2="1275" y1="5" y2="1285" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="1200" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1275" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1275" dy="0">Database&apos;s Safe</tspan></text></g><g><line id="actor7" x1="1475" x2="1475" y1="5" y2="1285" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="1400" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1475" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1475" dy="0">Database&apos;s Storage</tspan></text></g><g><line id="actor8" x1="1675" x2="1675" y1="5" y2="1285" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="1600" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1675" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1675" dy="0">Database&apos;s ERC721</tspan></text></g><defs><marker id="arrowhead" markerHeight="4" markerWidth="6" orient="auto" refX="5" refY="2"><path d="M 0,0 V 4 L6,2 Z"/></marker></defs><defs><marker id="crosshead" markerHeight="8" markerWidth="15" orient="auto" refX="16" refY="4"><path fill="#000" stroke="#000" stroke-width="1" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray:0,0"/><path fill="none" stroke="#000" stroke-width="1" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray:0,0"/></marker></defs><g><text x="475" y="93" class="messageText" style="text-anchor:middle">constructor</text><line x1="275" x2="675" y1="100" y2="100" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="450" height="36" x="250" y="110" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="246" y="134" fill="#000" class="noteText"><tspan x="266" fill="#000">Initializing with DatabaseV1 smart-contract</tspan></text></g><g><text x="375" y="174" class="messageText" style="text-anchor:middle">constructor</text><line x1="275" x2="475" y1="181" y2="181" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="450" height="36" x="250" y="191" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="246" y="215" fill="#000" class="noteText"><tspan x="266" fill="#000">Also Initializing of ERC721 and SplitPayment</tspan></text></g><g><text x="475" y="255" class="messageText" style="text-anchor:middle">setBuilder</text><line x1="275" x2="675" y1="262" y2="262" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="450" height="36" x="250" y="272" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="246" y="296" fill="#000" class="noteText"><tspan x="266" fill="#000">Set chaingear&apos;s contract address as builder</tspan></text></g><g><text x="375" y="336" class="messageText" style="text-anchor:middle">addDatabaseBuilderVersion</text><line x1="275" x2="475" y1="343" y2="343" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="250" height="52" x="250" y="353" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="246" y="377" fill="#000" class="noteText"><tspan x="266" fill="#000">Add DatabaseBuilderV1 address to</tspan></text><text x="246" y="393" fill="#000" class="noteText"><tspan x="266" fill="#000">list of database builders</tspan></text></g><g><text x="675" y="433" class="messageText" style="text-anchor:middle">createDatabase</text><line x1="875" x2="475" y1="440" y2="440" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="208" x="470" y="442" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="577.5" y="468" class="messageText" style="text-anchor:middle">create</text><line x1="480" x2="675" y1="475" y2="475" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="875" y="503" class="messageText" style="text-anchor:middle">constructor</text><line x1="675" x2="1075" y1="510" y2="510" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="577.5" y="538" class="messageText" style="text-anchor:middle">returns Database address</text><line x1="675" x2="480" y1="545" y2="545" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="1175" y="573" class="messageText" style="text-anchor:middle">new</text><line x1="1075" x2="1275" y1="580" y2="580" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="272.5" y="608" class="messageText" style="text-anchor:middle">mint ID = 0</text><line x1="470" x2="75" y1="615" y2="615" stroke="#000" stroke-width="2" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="677.5" y="643" class="messageText" style="text-anchor:middle">returns Database address, Database Token ID ID =0</text><line x1="480" x2="875" y1="650" y2="650" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><rect width="650" height="36" x="450" y="660" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="446" y="684" fill="#000" class="noteText"><tspan x="466" fill="#000">Initializing ERC721 Database token for User, creates Database and sets User as Database admin</tspan></text></g><g><text x="975" y="724" class="messageText" style="text-anchor:middle">initializeDatabase</text><line x1="875" x2="1075" y1="731" y2="731" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="68" x="1070" y="733" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="1277.5" y="759" class="messageText" style="text-anchor:middle">constructor</text><line x1="1080" x2="1475" y1="766" y2="766" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="972.5" y="794" class="messageText" style="text-anchor:middle">returns Storage address</text><line x1="1070" x2="875" y1="801" y2="801" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><rect width="650" height="52" x="850" y="811" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="846" y="835" fill="#000" class="noteText"><tspan x="866" fill="#000">User sets smart-contract with their custom Schema for Database, should implements</tspan></text><text x="846" y="851" fill="#000" class="noteText"><tspan x="866" fill="#000">ISchema</tspan></text></g><g><text x="975" y="891" class="messageText" style="text-anchor:middle">createEntry</text><line x1="875" x2="1075" y1="898" y2="898" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="103" x="1070" y="900" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="1277.5" y="926" class="messageText" style="text-anchor:middle">createEntry</text><line x1="1080" x2="1475" y1="933" y2="933" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="1377.5" y="961" class="messageText" style="text-anchor:middle">mint ID = 0</text><line x1="1080" x2="1675" y1="968" y2="968" stroke="#000" stroke-width="2" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="972.5" y="996" class="messageText" style="text-anchor:middle">returns entryID ID = 0</text><line x1="1070" x2="875" y1="1003" y2="1003" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><rect width="650" height="36" x="850" y="1013" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="846" y="1037" fill="#000" class="noteText"><tspan x="866" fill="#000">Initializing ERC721 Entry token for User, creates empty structured object</tspan></text></g><g><text x="1175" y="1077" class="messageText" style="text-anchor:middle">updateEntry ID=0</text><line x1="875" x2="1475" y1="1084" y2="1084" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="650" height="36" x="850" y="1094" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="846" y="1118" fill="#000" class="noteText"><tspan x="866" fill="#000">User as token owner sets fields of Entry object with provided EntryID</tspan></text></g><g><text x="1175" y="1158" class="messageText" style="text-anchor:middle">entryInfo ID=0</text><line x1="875" x2="1475" y1="1165" y2="1165" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="10" height="33" x="1470" y="1167" fill="#f4f4f4" stroke="#666" rx="0" ry="0"/></g><g><text x="1172.5" y="1193" class="messageText" style="text-anchor:middle">returns entry information</text><line x1="1470" x2="875" y1="1200" y2="1200" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><rect width="150" height="65" x="0" y="1220" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="75" y="1252.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="75" dy="0">Chaingear&apos;s ERC721</tspan></text></g><g><rect width="150" height="65" x="200" y="1220" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="275" y="1252.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="275" dy="0">Chaingear Owner</tspan></text></g><g><rect width="150" height="65" x="400" y="1220" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="475" y="1252.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="475" dy="0">Chaingear Contract</tspan></text></g><g><rect width="150" height="65" x="600" y="1220" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="675" y="1252.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="675" dy="0">Database Builder</tspan></text></g><g><rect width="150" height="65" x="800" y="1220" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="875" y="1252.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="875" dy="0">User 1</tspan></text></g><g><rect width="150" height="65" x="1000" y="1220" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1075" y="1252.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1075" dy="0">Database</tspan></text></g><g><rect width="150" height="65" x="1200" y="1220" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1275" y="1252.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1275" dy="0">Database&apos;s Safe</tspan></text></g><g><rect width="150" height="65" x="1400" y="1220" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1475" y="1252.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1475" dy="0">Database&apos;s Storage</tspan></text></g><g><rect width="150" height="65" x="1600" y="1220" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1675" y="1252.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1675" dy="0">Database&apos;s ERC721</tspan></text></g></svg>